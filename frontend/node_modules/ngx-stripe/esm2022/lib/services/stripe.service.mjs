import { Injectable, Inject } from '@angular/core';
import { filter, map } from 'rxjs/operators';
import { STRIPE_PUBLISHABLE_KEY, STRIPE_OPTIONS, NGX_STRIPE_VERSION } from '../interfaces/ngx-stripe.interface';
import { StripeInstance } from './stripe-instance.class';
import * as i0 from "@angular/core";
import * as i1 from "./api-loader.service";
import * as i2 from "./window-ref.service";
export class StripeService {
    version;
    key;
    options;
    loader;
    window;
    stripe;
    constructor(version, key, options, loader, window) {
        this.version = version;
        this.key = key;
        this.options = options;
        this.loader = loader;
        this.window = window;
        if (key) {
            this.stripe = new StripeInstance(this.version, this.loader, this.window, key, options);
        }
    }
    getStripeReference() {
        return this.loader.asStream().pipe(filter((status) => status.loaded === true), map(() => this.window.getNativeWindow().Stripe));
    }
    getInstance() {
        return this.stripe.getInstance();
    }
    setKey(key, options) {
        return this.changeKey(key, options);
    }
    changeKey(key, options) {
        this.stripe = new StripeInstance(this.version, this.loader, this.window, key, options);
        return this.stripe;
    }
    elements(options) {
        return this.stripe.elements(options);
    }
    redirectToCheckout(options) {
        return this.stripe.redirectToCheckout(options);
    }
    confirmPayment(options) {
        return this.stripe.confirmPayment(options);
    }
    confirmAcssDebitPayment(clientSecret, data, options) {
        return this.stripe.confirmAcssDebitPayment(clientSecret, data, options);
    }
    confirmUsBankAccountPayment(clientSecret, data) {
        return this.stripe.confirmUsBankAccountPayment(clientSecret, data);
    }
    confirmAlipayPayment(clientSecret, data, options) {
        return this.stripe.confirmAlipayPayment(clientSecret, data, options);
    }
    confirmAuBecsDebitPayment(clientSecret, data) {
        return this.stripe.confirmAuBecsDebitPayment(clientSecret, data);
    }
    confirmBancontactPayment(clientSecret, data, options) {
        return this.stripe.confirmBancontactPayment(clientSecret, data, options);
    }
    confirmBlikPayment(clientSecret, data, options) {
        return this.stripe.confirmBlikPayment(clientSecret, data, options);
    }
    confirmBoletoPayment(clientSecret, data, options) {
        return this.stripe.confirmBoletoPayment(clientSecret, data, options);
    }
    confirmCardPayment(clientSecret, data, options) {
        return this.stripe.confirmCardPayment(clientSecret, data, options);
    }
    confirmCashappPayment(clientSecret, data, options) {
        return this.stripe.confirmCashappPayment(clientSecret, data, options);
    }
    confirmCustomerBalancePayment(clientSecret, data, options) {
        return this.stripe.confirmCustomerBalancePayment(clientSecret, data, options);
    }
    confirmEpsPayment(clientSecret, data, options) {
        return this.stripe.confirmEpsPayment(clientSecret, data, options);
    }
    confirmFpxPayment(clientSecret, data, options) {
        return this.stripe.confirmFpxPayment(clientSecret, data, options);
    }
    confirmGiropayPayment(clientSecret, data, options) {
        return this.stripe.confirmGiropayPayment(clientSecret, data, options);
    }
    confirmGrabPayPayment(clientSecret, data, options) {
        return this.stripe.confirmGrabPayPayment(clientSecret, data, options);
    }
    confirmIdealPayment(clientSecret, data, options) {
        return this.stripe.confirmIdealPayment(clientSecret, data, options);
    }
    confirmKlarnaPayment(clientSecret, data, options) {
        return this.stripe.confirmKlarnaPayment(clientSecret, data, options);
    }
    confirmKonbiniPayment(clientSecret, data, options) {
        return this.stripe.confirmKonbiniPayment(clientSecret, data, options);
    }
    confirmOxxoPayment(clientSecret, data, options) {
        return this.stripe.confirmOxxoPayment(clientSecret, data, options);
    }
    confirmP24Payment(clientSecret, data, options) {
        return this.stripe.confirmP24Payment(clientSecret, data, options);
    }
    confirmPayNowPayment(clientSecret, data, options) {
        return this.stripe.confirmPayNowPayment(clientSecret, data, options);
    }
    confirmPayPalPayment(clientSecret, data) {
        return this.stripe.confirmPayPalPayment(clientSecret, data);
    }
    confirmPixPayment(clientSecret, data, options) {
        return this.stripe.confirmPixPayment(clientSecret, data, options);
    }
    confirmPromptPayPayment(clientSecret, data, options) {
        return this.stripe.confirmPromptPayPayment(clientSecret, data, options);
    }
    confirmSepaDebitPayment(clientSecret, data) {
        return this.stripe.confirmSepaDebitPayment(clientSecret, data);
    }
    confirmSofortPayment(clientSecret, data, options) {
        return this.stripe.confirmSofortPayment(clientSecret, data, options);
    }
    confirmWechatPayPayment(clientSecret, data, options) {
        return this.stripe.confirmWechatPayPayment(clientSecret, data, options);
    }
    handleCardAction(clientSecret) {
        return this.stripe.handleCardAction(clientSecret);
    }
    handleNextAction(options) {
        return this.stripe.handleNextAction(options);
    }
    verifyMicrodepositsForPayment(clientSecret, data) {
        return this.stripe.verifyMicrodepositsForPayment(clientSecret, data);
    }
    createRadarSession() {
        return this.stripe.createRadarSession();
    }
    collectBankAccountForPayment(options) {
        return this.stripe.collectBankAccountForPayment(options);
    }
    createPaymentMethod(options) {
        return this.stripe.createPaymentMethod(options);
    }
    retrievePaymentIntent(clientSecret) {
        return this.stripe.retrievePaymentIntent(clientSecret);
    }
    confirmSetup(options) {
        return this.stripe.confirmSetup(options);
    }
    confirmAcssDebitSetup(clientSecret, data, options) {
        return this.stripe.confirmAcssDebitSetup(clientSecret, data, options);
    }
    confirmUsBankAccountSetup(clientSecret, data) {
        return this.stripe.confirmUsBankAccountSetup(clientSecret, data);
    }
    confirmAuBecsDebitSetup(clientSecret, data) {
        return this.stripe.confirmAuBecsDebitSetup(clientSecret, data);
    }
    confirmBacsDebitSetup(clientSecret, data) {
        return this.stripe.confirmBacsDebitSetup(clientSecret, data);
    }
    confirmBancontactSetup(clientSecret, data) {
        return this.stripe.confirmBancontactSetup(clientSecret, data);
    }
    confirmCardSetup(clientSecret, data, options) {
        return this.stripe.confirmCardSetup(clientSecret, data, options);
    }
    confirmCashappSetup(clientSecret, data, options) {
        return this.stripe.confirmCashappSetup(clientSecret, data, options);
    }
    confirmIdealSetup(clientSecret, data) {
        return this.stripe.confirmIdealSetup(clientSecret, data);
    }
    confirmPayPalSetup(clientSecret, data) {
        return this.stripe.confirmPayPalSetup(clientSecret, data);
    }
    confirmSepaDebitSetup(clientSecret, data) {
        return this.stripe.confirmSepaDebitSetup(clientSecret, data);
    }
    confirmSofortSetup(clientSecret, data, options) {
        return this.stripe.confirmSofortSetup(clientSecret, data, options);
    }
    confirmAffirmPayment(clientSecret, data, options) {
        return this.stripe.confirmAffirmPayment(clientSecret, data, options);
    }
    confirmAfterpayClearpayPayment(clientSecret, data, options) {
        return this.stripe.confirmAfterpayClearpayPayment(clientSecret, data, options);
    }
    verifyMicrodepositsForSetup(clientSecret, data) {
        return this.stripe.verifyMicrodepositsForSetup(clientSecret, data);
    }
    collectBankAccountForSetup(options) {
        return this.stripe.collectBankAccountForSetup(options);
    }
    retrieveSetupIntent(clientSecret) {
        return this.stripe.retrieveSetupIntent(clientSecret);
    }
    processOrder(options) {
        return this.stripe.processOrder(options);
    }
    retrieveOrder(clientSecret) {
        return this.stripe.retrieveOrder(clientSecret);
    }
    paymentRequest(options) {
        return this.stripe.paymentRequest(options);
    }
    createToken(tokenType, data) {
        return this.stripe.createToken(tokenType, data);
    }
    createSource(a, b) {
        return this.stripe.createSource(a, b);
    }
    retrieveSource(source) {
        return this.stripe.retrieveSource(source);
    }
    verifyIdentity(clientSecret) {
        return this.stripe.verifyIdentity(clientSecret);
    }
    collectFinancialConnectionsAccounts(options) {
        return this.stripe.collectFinancialConnectionsAccounts(options);
    }
    collectBankAccountToken(options) {
        return this.stripe.collectBankAccountToken(options);
    }
    createEphemeralKeyNonce(options) {
        return this.stripe.createEphemeralKeyNonce(options);
    }
    initCustomCheckout(options) {
        return this.stripe.initCustomCheckout(options);
    }
    initEmbeddedCheckout(options) {
        return this.stripe.initEmbeddedCheckout(options);
    }
    /**
     * @deprecated
     */
    handleCardPayment(clientSecret, element, data) {
        return this.stripe.handleCardPayment(clientSecret, element, data);
    }
    /**
     * @deprecated
     */
    confirmPaymentIntent(clientSecret, element, data) {
        return this.stripe.confirmPaymentIntent(clientSecret, element, data);
    }
    /**
     * @deprecated
     */
    handleCardSetup(clientSecret, element, data) {
        return this.stripe.handleCardSetup(clientSecret, element, data);
    }
    /**
     * @deprecated
     */
    confirmSetupIntent(clientSecret, element, data) {
        return this.stripe.confirmSetupIntent(clientSecret, element, data);
    }
    /**
     * @deprecated
     */
    handleFpxPayment(clientSecret, element, data) {
        return this.stripe.handleFpxPayment(clientSecret, element, data);
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "17.1.3", ngImport: i0, type: StripeService, deps: [{ token: NGX_STRIPE_VERSION }, { token: STRIPE_PUBLISHABLE_KEY }, { token: STRIPE_OPTIONS }, { token: i1.LazyStripeAPILoader }, { token: i2.WindowRef }], target: i0.ɵɵFactoryTarget.Injectable });
    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "17.1.3", ngImport: i0, type: StripeService });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "17.1.3", ngImport: i0, type: StripeService, decorators: [{
            type: Injectable
        }], ctorParameters: () => [{ type: undefined, decorators: [{
                    type: Inject,
                    args: [NGX_STRIPE_VERSION]
                }] }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [STRIPE_PUBLISHABLE_KEY]
                }] }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [STRIPE_OPTIONS]
                }] }, { type: i1.LazyStripeAPILoader }, { type: i2.WindowRef }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaXBlLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtc3RyaXBlL3NyYy9saWIvc2VydmljZXMvc3RyaXBlLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFbkQsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQTJIN0MsT0FBTyxFQUFFLHNCQUFzQixFQUFFLGNBQWMsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBTWhILE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQzs7OztBQUd6RCxNQUFNLE9BQU8sYUFBYTtJQUlhO0lBQ0k7SUFDUjtJQUN4QjtJQUNBO0lBUFQsTUFBTSxDQUFrQjtJQUV4QixZQUNxQyxPQUFlLEVBQ1gsR0FBVyxFQUNuQixPQUFpQyxFQUN6RCxNQUEyQixFQUMzQixNQUFpQjtRQUpXLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFDWCxRQUFHLEdBQUgsR0FBRyxDQUFRO1FBQ25CLFlBQU8sR0FBUCxPQUFPLENBQTBCO1FBQ3pELFdBQU0sR0FBTixNQUFNLENBQXFCO1FBQzNCLFdBQU0sR0FBTixNQUFNLENBQVc7UUFFeEIsSUFBSSxHQUFHLEVBQUU7WUFDUCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN4RjtJQUNILENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDLElBQUksQ0FDaEMsTUFBTSxDQUFDLENBQUMsTUFBaUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsRUFDckUsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFVLENBQUMsTUFBTSxDQUFDLENBQ3pELENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQVcsRUFBRSxPQUFrQztRQUNwRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBVyxFQUFFLE9BQWtDO1FBQ3ZELElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBRXZGLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQixDQUFDO0lBS0QsUUFBUSxDQUFDLE9BQVE7UUFDZixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxPQUFrQztRQUNuRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQXdCRCxjQUFjLENBQUMsT0FBTztRQUNwQixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCx1QkFBdUIsQ0FDckIsWUFBb0IsRUFDcEIsSUFBa0MsRUFDbEMsT0FBd0M7UUFFeEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDMUUsQ0FBQztJQUVELDJCQUEyQixDQUN6QixZQUFvQixFQUNwQixJQUFzQztRQUV0QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsMkJBQTJCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxvQkFBb0IsQ0FDbEIsWUFBb0IsRUFDcEIsSUFBK0IsRUFDL0IsT0FBcUM7UUFFckMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELHlCQUF5QixDQUN2QixZQUFvQixFQUNwQixJQUFvQztRQUVwQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCx3QkFBd0IsQ0FDdEIsWUFBb0IsRUFDcEIsSUFBbUMsRUFDbkMsT0FBeUM7UUFFekMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLHdCQUF3QixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVELGtCQUFrQixDQUNoQixZQUFvQixFQUNwQixJQUE2QixFQUM3QixPQUFtQztRQUVuQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQsb0JBQW9CLENBQ2xCLFlBQW9CLEVBQ3BCLElBQStCLEVBQy9CLE9BQXFDO1FBRXJDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCxrQkFBa0IsQ0FDaEIsWUFBb0IsRUFDcEIsSUFBNkIsRUFDN0IsT0FBbUM7UUFFbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELHFCQUFxQixDQUNuQixZQUFvQixFQUNwQixJQUFnQyxFQUNoQyxPQUFzQztRQUV0QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQsNkJBQTZCLENBQzNCLFlBQW9CLEVBQ3BCLElBQXVDLEVBQ3ZDLE9BQTZDO1FBRTdDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2hGLENBQUM7SUFFRCxpQkFBaUIsQ0FDZixZQUFvQixFQUNwQixJQUE0QixFQUM1QixPQUFrQztRQUVsQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBRUQsaUJBQWlCLENBQ2YsWUFBb0IsRUFDcEIsSUFBNEIsRUFDNUIsT0FBa0M7UUFFbEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELHFCQUFxQixDQUNuQixZQUFvQixFQUNwQixJQUFnQyxFQUNoQyxPQUFzQztRQUV0QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQscUJBQXFCLENBQ25CLFlBQW9CLEVBQ3BCLElBQWdDLEVBQ2hDLE9BQXNDO1FBRXRDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxtQkFBbUIsQ0FDakIsWUFBb0IsRUFDcEIsSUFBOEIsRUFDOUIsT0FBb0M7UUFFcEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELG9CQUFvQixDQUNsQixZQUFvQixFQUNwQixJQUErQixFQUMvQixPQUFxQztRQUVyQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQscUJBQXFCLENBQ25CLFlBQW9CLEVBQ3BCLElBQWdDLEVBQ2hDLE9BQXNDO1FBRXRDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3hFLENBQUM7SUFFRCxrQkFBa0IsQ0FDaEIsWUFBb0IsRUFDcEIsSUFBNkIsRUFDN0IsT0FBbUM7UUFFbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELGlCQUFpQixDQUNmLFlBQW9CLEVBQ3BCLElBQTRCLEVBQzVCLE9BQWtDO1FBRWxDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxvQkFBb0IsQ0FDbEIsWUFBb0IsRUFDcEIsSUFBK0IsRUFDL0IsT0FBcUM7UUFFckMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELG9CQUFvQixDQUFDLFlBQW9CLEVBQUUsSUFBK0I7UUFDeEUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBRUQsaUJBQWlCLENBQ2YsWUFBb0IsRUFDcEIsSUFBNEIsRUFDNUIsT0FBa0M7UUFFbEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELHVCQUF1QixDQUNyQixZQUFvQixFQUNwQixJQUFrQyxFQUNsQyxPQUF3QztRQUV4QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsdUJBQXVCLENBQUMsWUFBb0IsRUFBRSxJQUFrQztRQUM5RSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxvQkFBb0IsQ0FDbEIsWUFBb0IsRUFDcEIsSUFBK0IsRUFDL0IsT0FBcUM7UUFFckMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDdkUsQ0FBQztJQUVELHVCQUF1QixDQUNyQixZQUFvQixFQUNwQixJQUFrQyxFQUNsQyxPQUF3QztRQUV4QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsZ0JBQWdCLENBQUMsWUFBb0I7UUFDbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxPQUFpQztRQUNoRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELDZCQUE2QixDQUMzQixZQUFvQixFQUNwQixJQUF3QztRQUV4QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsNkJBQTZCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCxrQkFBa0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELDRCQUE0QixDQUFDLE9BQTRDO1FBQ3ZFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBS0QsbUJBQW1CLENBQUMsT0FBTztRQUN6QixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELHFCQUFxQixDQUFDLFlBQW9CO1FBQ3hDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6RCxDQUFDO0lBd0JELFlBQVksQ0FBQyxPQUFPO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELHFCQUFxQixDQUNuQixZQUFvQixFQUNwQixJQUFnQyxFQUNoQyxPQUFzQztRQUV0QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBRUQseUJBQXlCLENBQUMsWUFBb0IsRUFBRSxJQUFvQztRQUNsRixPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMseUJBQXlCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxZQUFvQixFQUFFLElBQWtDO1FBQzlFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDakUsQ0FBQztJQUVELHFCQUFxQixDQUFDLFlBQW9CLEVBQUUsSUFBZ0M7UUFDMUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsc0JBQXNCLENBQUMsWUFBb0IsRUFBRSxJQUFpQztRQUM1RSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxnQkFBZ0IsQ0FDZCxZQUFvQixFQUNwQixJQUEyQixFQUMzQixPQUFpQztRQUVqQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNuRSxDQUFDO0lBRUQsbUJBQW1CLENBQ2pCLFlBQW9CLEVBQ3BCLElBQThCLEVBQzlCLE9BQW9DO1FBRXBDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxZQUFvQixFQUFFLElBQTRCO1FBQ2xFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELGtCQUFrQixDQUFDLFlBQW9CLEVBQUUsSUFBNkI7UUFDcEUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQscUJBQXFCLENBQUMsWUFBb0IsRUFBRSxJQUFnQztRQUMxRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxrQkFBa0IsQ0FDaEIsWUFBb0IsRUFDcEIsSUFBNkIsRUFDN0IsT0FBbUM7UUFFbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUVELG9CQUFvQixDQUNsQixZQUFvQixFQUNwQixJQUErQixFQUMvQixPQUFxQztRQUVyQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQsOEJBQThCLENBQzVCLFlBQW9CLEVBQ3BCLElBQXlDLEVBQ3pDLE9BQStDO1FBRS9DLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxZQUFZLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCwyQkFBMkIsQ0FDekIsWUFBb0IsRUFDcEIsSUFBc0M7UUFFdEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLDJCQUEyQixDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQsMEJBQTBCLENBQUMsT0FBMEM7UUFDbkUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLDBCQUEwQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxZQUFvQjtRQUN0QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQVlELFlBQVksQ0FBQyxPQUFPO1FBQ2xCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELGFBQWEsQ0FBQyxZQUFvQjtRQUNoQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCxjQUFjLENBQUMsT0FBOEI7UUFDM0MsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBWUQsV0FBVyxDQUFDLFNBQVMsRUFBRSxJQUFJO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUFJRCxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELGNBQWMsQ0FBQyxNQUEyQjtRQUN4QyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVDLENBQUM7SUFFRCxjQUFjLENBQUMsWUFBb0I7UUFDakMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsbUNBQW1DLENBQ2pDLE9BQW1EO1FBRW5ELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQ0FBbUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsRSxDQUFDO0lBRUQsdUJBQXVCLENBQUMsT0FBdUM7UUFDN0QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLHVCQUF1QixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxPQUFpQztRQUN2RCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVELGtCQUFrQixDQUFDLE9BQW9DO1FBQ3JELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsb0JBQW9CLENBQUMsT0FBc0M7UUFDekQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRDs7T0FFRztJQUNILGlCQUFpQixDQUFDLFlBQW9CLEVBQUUsT0FBUSxFQUFFLElBQUs7UUFDckQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsb0JBQW9CLENBQUMsWUFBb0IsRUFBRSxPQUFRLEVBQUUsSUFBSztRQUN4RCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxlQUFlLENBQUMsWUFBb0IsRUFBRSxPQUFRLEVBQUUsSUFBSztRQUNuRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVEOztPQUVHO0lBQ0gsa0JBQWtCLENBQUMsWUFBb0IsRUFBRSxPQUFRLEVBQUUsSUFBSztRQUN0RCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsWUFBWSxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRSxDQUFDO0lBRUQ7O09BRUc7SUFDSCxnQkFBZ0IsQ0FBQyxZQUFvQixFQUFFLE9BQVEsRUFBRSxJQUFLO1FBQ3BELE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ25FLENBQUM7dUdBL2dCVSxhQUFhLGtCQUlkLGtCQUFrQixhQUNsQixzQkFBc0IsYUFDdEIsY0FBYzsyR0FOYixhQUFhOzsyRkFBYixhQUFhO2tCQUR6QixVQUFVOzswQkFLTixNQUFNOzJCQUFDLGtCQUFrQjs7MEJBQ3pCLE1BQU07MkJBQUMsc0JBQXNCOzswQkFDN0IsTUFBTTsyQkFBQyxjQUFjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBmaWx0ZXIsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHtcbiAgQ29uZmlybUFjc3NEZWJpdFBheW1lbnREYXRhLFxuICBDb25maXJtQWNzc0RlYml0UGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1BZnRlcnBheUNsZWFycGF5UGF5bWVudERhdGEsXG4gIENvbmZpcm1BZnRlcnBheUNsZWFycGF5UGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1BbGlwYXlQYXltZW50RGF0YSxcbiAgQ29uZmlybUFsaXBheVBheW1lbnRPcHRpb25zLFxuICBDb25maXJtQXVCZWNzRGViaXRQYXltZW50RGF0YSxcbiAgQ29uZmlybUF1QmVjc0RlYml0U2V0dXBEYXRhLFxuICBDb25maXJtQmFuY29udGFjdFBheW1lbnREYXRhLFxuICBDb25maXJtQmFuY29udGFjdFBheW1lbnRPcHRpb25zLFxuICBDb25maXJtQm9sZXRvUGF5bWVudERhdGEsXG4gIENvbmZpcm1Cb2xldG9QYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybUNhcmRQYXltZW50RGF0YSxcbiAgQ29uZmlybUNhcmRQYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybUVwc1BheW1lbnREYXRhLFxuICBDb25maXJtRXBzUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1GcHhQYXltZW50RGF0YSxcbiAgQ29uZmlybUZweFBheW1lbnRPcHRpb25zLFxuICBDb25maXJtR2lyb3BheVBheW1lbnREYXRhLFxuICBDb25maXJtR2lyb3BheVBheW1lbnRPcHRpb25zLFxuICBDb25maXJtR3JhYlBheVBheW1lbnREYXRhLFxuICBDb25maXJtR3JhYlBheVBheW1lbnRPcHRpb25zLFxuICBDb25maXJtSWRlYWxQYXltZW50RGF0YSxcbiAgQ29uZmlybUlkZWFsUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1LbGFybmFQYXltZW50RGF0YSxcbiAgQ29uZmlybUtsYXJuYVBheW1lbnRPcHRpb25zLFxuICBDb25maXJtT3h4b1BheW1lbnREYXRhLFxuICBDb25maXJtT3h4b1BheW1lbnRPcHRpb25zLFxuICBDb25maXJtUDI0UGF5bWVudERhdGEsXG4gIENvbmZpcm1QMjRQYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybUNhcmRTZXR1cERhdGEsXG4gIENvbmZpcm1DYXJkU2V0dXBPcHRpb25zLFxuICBDb25maXJtU2VwYURlYml0UGF5bWVudERhdGEsXG4gIENvbmZpcm1Tb2ZvcnRQYXltZW50RGF0YSxcbiAgQ29uZmlybVdlY2hhdFBheVBheW1lbnREYXRhLFxuICBDb25maXJtV2VjaGF0UGF5UGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1TZXBhRGViaXRTZXR1cERhdGEsXG4gIENyZWF0ZVBheW1lbnRNZXRob2REYXRhLFxuICBWZXJpZnlNaWNyb2RlcG9zaXRzRm9yUGF5bWVudERhdGEsXG4gIENvbmZpcm1BY3NzRGViaXRTZXR1cERhdGEsXG4gIENvbmZpcm1BY3NzRGViaXRTZXR1cE9wdGlvbnMsXG4gIENyZWF0ZVNvdXJjZURhdGEsXG4gIENyZWF0ZVRva2VuSWJhbkRhdGEsXG4gIENyZWF0ZVRva2VuQ2FyZERhdGEsXG4gIENyZWF0ZVRva2VuUGlpRGF0YSxcbiAgQ3JlYXRlVG9rZW5CYW5rQWNjb3VudERhdGEsXG4gIFBheW1lbnRSZXF1ZXN0LFxuICBQYXltZW50UmVxdWVzdE9wdGlvbnMsXG4gIFJlZGlyZWN0VG9DaGVja291dE9wdGlvbnMsXG4gIFJldHJpZXZlU291cmNlUGFyYW0sXG4gIFN0cmlwZSxcbiAgU3RyaXBlQ2FyZEVsZW1lbnQsXG4gIFN0cmlwZUNhcmROdW1iZXJFbGVtZW50LFxuICBTdHJpcGVDYXJkQ3ZjRWxlbWVudCxcbiAgU3RyaXBlQ29uc3RydWN0b3JPcHRpb25zLFxuICBTdHJpcGVFbGVtZW50cyxcbiAgU3RyaXBlRWxlbWVudHNPcHRpb25zLFxuICBTdHJpcGVFbGVtZW50LFxuICBTdHJpcGVFcnJvcixcbiAgU3RyaXBlSWJhbkVsZW1lbnQsXG4gIFRva2VuQ3JlYXRlUGFyYW1zLFxuICBDb25maXJtQmFjc0RlYml0U2V0dXBEYXRhLFxuICBDb25maXJtQmFuY29udGFjdFNldHVwRGF0YSxcbiAgQ29uZmlybUlkZWFsU2V0dXBEYXRhLFxuICBDb25maXJtU29mb3J0U2V0dXBEYXRhLFxuICBWZXJpZnlNaWNyb2RlcG9zaXRzRm9yU2V0dXBEYXRhLFxuICBWZXJpZmljYXRpb25TZXNzaW9uUmVzdWx0LFxuICBDb25maXJtUGF5UGFsUGF5bWVudERhdGEsXG4gIENvbmZpcm1QYXlQYWxTZXR1cERhdGEsXG4gIENvbmZpcm1QYXltZW50RGF0YSxcbiAgQ29uZmlybUN1c3RvbWVyQmFsYW5jZVBheW1lbnREYXRhLFxuICBDb25maXJtQ3VzdG9tZXJCYWxhbmNlUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1QYXlOb3dQYXltZW50RGF0YSxcbiAgQ29uZmlybVBheU5vd1BheW1lbnRPcHRpb25zLFxuICBDb25maXJtUHJvbXB0UGF5UGF5bWVudERhdGEsXG4gIENvbmZpcm1Qcm9tcHRQYXlQYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybUFmZmlybVBheW1lbnREYXRhLFxuICBDb25maXJtQWZmaXJtUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1Tb2ZvcnRQYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybVNvZm9ydFNldHVwT3B0aW9ucyxcbiAgQ29uZmlybUtvbmJpbmlQYXltZW50RGF0YSxcbiAgQ29uZmlybUtvbmJpbmlQYXltZW50T3B0aW9ucyxcbiAgQ29uZmlybVVzQmFua0FjY291bnRQYXltZW50RGF0YSxcbiAgQ29sbGVjdEJhbmtBY2NvdW50Rm9yUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1Vc0JhbmtBY2NvdW50U2V0dXBEYXRhLFxuICBDb2xsZWN0QmFua0FjY291bnRGb3JTZXR1cE9wdGlvbnMsXG4gIENvbmZpcm1QaXhQYXltZW50RGF0YSxcbiAgQ29uZmlybVBpeFBheW1lbnRPcHRpb25zLFxuICBQYXltZW50SW50ZW50UmVzdWx0LFxuICBQYXltZW50TWV0aG9kUmVzdWx0LFxuICBTZXR1cEludGVudFJlc3VsdCxcbiAgUHJvY2Vzc09yZGVyUmVzdWx0LFxuICBSZXRyaWV2ZU9yZGVyUmVzdWx0LFxuICBUb2tlblJlc3VsdCxcbiAgU291cmNlUmVzdWx0LFxuICBGaW5hbmNpYWxDb25uZWN0aW9uc1Nlc3Npb25SZXN1bHQsXG4gIENvbGxlY3RCYW5rQWNjb3VudFRva2VuUmVzdWx0LFxuICBFcGhlbWVyYWxLZXlOb25jZVJlc3VsdCxcbiAgUmFkYXJTZXNzaW9uUGF5bG9hZCxcbiAgUHJvY2Vzc09yZGVyUGFyYW1zLFxuICBDb2xsZWN0RmluYW5jaWFsQ29ubmVjdGlvbnNBY2NvdW50c09wdGlvbnMsXG4gIENvbGxlY3RCYW5rQWNjb3VudFRva2VuT3B0aW9ucyxcbiAgRXBoZW1lcmFsS2V5Tm9uY2VPcHRpb25zLFxuICBTdHJpcGVFbGVtZW50c09wdGlvbnNDbGllbnRTZWNyZXQsXG4gIFN0cmlwZUVsZW1lbnRzT3B0aW9uc01vZGUsXG4gIENvbmZpcm1CbGlrUGF5bWVudERhdGEsXG4gIENvbmZpcm1CbGlrUGF5bWVudE9wdGlvbnMsXG4gIENvbmZpcm1DYXNoYXBwUGF5bWVudERhdGEsXG4gIENvbmZpcm1DYXNoYXBwUGF5bWVudE9wdGlvbnMsXG4gIFBheW1lbnRJbnRlbnRPclNldHVwSW50ZW50UmVzdWx0LFxuICBDcmVhdGVQYXltZW50TWV0aG9kRnJvbUVsZW1lbnRzLFxuICBDcmVhdGVQYXltZW50TWV0aG9kRnJvbUVsZW1lbnQsXG4gIENvbmZpcm1DYXNoYXBwU2V0dXBEYXRhLFxuICBDb25maXJtQ2FzaGFwcFNldHVwT3B0aW9ucyxcbiAgU3RyaXBlQ3VzdG9tQ2hlY2tvdXRPcHRpb25zLFxuICBTdHJpcGVDdXN0b21DaGVja291dCxcbiAgU3RyaXBlRW1iZWRkZWRDaGVja291dE9wdGlvbnMsXG4gIFN0cmlwZUVtYmVkZGVkQ2hlY2tvdXRcbn0gZnJvbSAnQHN0cmlwZS9zdHJpcGUtanMnO1xuXG5pbXBvcnQgeyBTVFJJUEVfUFVCTElTSEFCTEVfS0VZLCBTVFJJUEVfT1BUSU9OUywgTkdYX1NUUklQRV9WRVJTSU9OIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9uZ3gtc3RyaXBlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBTdHJpcGVTZXJ2aWNlSW50ZXJmYWNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9zdHJpcGUtaW5zdGFuY2UuaW50ZXJmYWNlJztcblxuaW1wb3J0IHsgV2luZG93UmVmIH0gZnJvbSAnLi93aW5kb3ctcmVmLnNlcnZpY2UnO1xuaW1wb3J0IHsgTGF6eVN0cmlwZUFQSUxvYWRlciwgTGF6eVN0cmlwZUFQSUxvYWRlclN0YXR1cyB9IGZyb20gJy4vYXBpLWxvYWRlci5zZXJ2aWNlJztcblxuaW1wb3J0IHsgU3RyaXBlSW5zdGFuY2UgfSBmcm9tICcuL3N0cmlwZS1pbnN0YW5jZS5jbGFzcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTdHJpcGVTZXJ2aWNlIGltcGxlbWVudHMgU3RyaXBlU2VydmljZUludGVyZmFjZSB7XG4gIHN0cmlwZSE6IFN0cmlwZUluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBJbmplY3QoTkdYX1NUUklQRV9WRVJTSU9OKSBwdWJsaWMgdmVyc2lvbjogc3RyaW5nLFxuICAgIEBJbmplY3QoU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSkgcHVibGljIGtleTogc3RyaW5nLFxuICAgIEBJbmplY3QoU1RSSVBFX09QVElPTlMpIHB1YmxpYyBvcHRpb25zOiBTdHJpcGVDb25zdHJ1Y3Rvck9wdGlvbnMsXG4gICAgcHVibGljIGxvYWRlcjogTGF6eVN0cmlwZUFQSUxvYWRlcixcbiAgICBwdWJsaWMgd2luZG93OiBXaW5kb3dSZWZcbiAgKSB7XG4gICAgaWYgKGtleSkge1xuICAgICAgdGhpcy5zdHJpcGUgPSBuZXcgU3RyaXBlSW5zdGFuY2UodGhpcy52ZXJzaW9uLCB0aGlzLmxvYWRlciwgdGhpcy53aW5kb3csIGtleSwgb3B0aW9ucyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3RyaXBlUmVmZXJlbmNlKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGVyLmFzU3RyZWFtKCkucGlwZShcbiAgICAgIGZpbHRlcigoc3RhdHVzOiBMYXp5U3RyaXBlQVBJTG9hZGVyU3RhdHVzKSA9PiBzdGF0dXMubG9hZGVkID09PSB0cnVlKSxcbiAgICAgIG1hcCgoKSA9PiAodGhpcy53aW5kb3cuZ2V0TmF0aXZlV2luZG93KCkgYXMgYW55KS5TdHJpcGUpXG4gICAgKTtcbiAgfVxuXG4gIGdldEluc3RhbmNlKCk6IFN0cmlwZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBzZXRLZXkoa2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBTdHJpcGVDb25zdHJ1Y3Rvck9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5jaGFuZ2VLZXkoa2V5LCBvcHRpb25zKTtcbiAgfVxuXG4gIGNoYW5nZUtleShrZXk6IHN0cmluZywgb3B0aW9ucz86IFN0cmlwZUNvbnN0cnVjdG9yT3B0aW9ucykge1xuICAgIHRoaXMuc3RyaXBlID0gbmV3IFN0cmlwZUluc3RhbmNlKHRoaXMudmVyc2lvbiwgdGhpcy5sb2FkZXIsIHRoaXMud2luZG93LCBrZXksIG9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlO1xuICB9XG5cbiAgZWxlbWVudHMob3B0aW9ucz86IFN0cmlwZUVsZW1lbnRzT3B0aW9uc0NsaWVudFNlY3JldCk6IE9ic2VydmFibGU8U3RyaXBlRWxlbWVudHM+O1xuICBlbGVtZW50cyhvcHRpb25zPzogU3RyaXBlRWxlbWVudHNPcHRpb25zTW9kZSk6IE9ic2VydmFibGU8U3RyaXBlRWxlbWVudHM+O1xuICBlbGVtZW50cyhvcHRpb25zPzogU3RyaXBlRWxlbWVudHNPcHRpb25zKTogT2JzZXJ2YWJsZTxTdHJpcGVFbGVtZW50cz47XG4gIGVsZW1lbnRzKG9wdGlvbnM/KTogT2JzZXJ2YWJsZTxTdHJpcGVFbGVtZW50cz4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5lbGVtZW50cyhvcHRpb25zKTtcbiAgfVxuXG4gIHJlZGlyZWN0VG9DaGVja291dChvcHRpb25zOiBSZWRpcmVjdFRvQ2hlY2tvdXRPcHRpb25zKTogT2JzZXJ2YWJsZTxuZXZlciB8IHsgZXJyb3I6IFN0cmlwZUVycm9yIH0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUucmVkaXJlY3RUb0NoZWNrb3V0KG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybVBheW1lbnQob3B0aW9uczoge1xuICAgIGVsZW1lbnRzOiBTdHJpcGVFbGVtZW50cztcbiAgICBjb25maXJtUGFyYW1zPzogUGFydGlhbDxDb25maXJtUGF5bWVudERhdGE+O1xuICAgIHJlZGlyZWN0OiAnaWZfcmVxdWlyZWQnO1xuICB9KTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PjtcbiAgY29uZmlybVBheW1lbnQob3B0aW9uczoge1xuICAgIGVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmc7XG4gICAgY29uZmlybVBhcmFtcz86IFBhcnRpYWw8Q29uZmlybVBheW1lbnREYXRhPjtcbiAgICByZWRpcmVjdDogJ2lmX3JlcXVpcmVkJztcbiAgfSk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD47XG4gIGNvbmZpcm1QYXltZW50KG9wdGlvbnM6IHtcbiAgICBlbGVtZW50czogU3RyaXBlRWxlbWVudHM7XG4gICAgY29uZmlybVBhcmFtczogQ29uZmlybVBheW1lbnREYXRhO1xuICAgIHJlZGlyZWN0PzogJ2Fsd2F5cyc7XG4gIH0pOiBPYnNlcnZhYmxlPG5ldmVyIHwgeyBlcnJvcjogU3RyaXBlRXJyb3IgfT47XG4gIGNvbmZpcm1QYXltZW50KG9wdGlvbnM6IHtcbiAgICBlbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIGNsaWVudFNlY3JldDogc3RyaW5nO1xuICAgIGNvbmZpcm1QYXJhbXM6IENvbmZpcm1QYXltZW50RGF0YTtcbiAgICByZWRpcmVjdD86ICdhbHdheXMnO1xuICB9KTogT2JzZXJ2YWJsZTxuZXZlciB8IHsgZXJyb3I6IFN0cmlwZUVycm9yIH0+O1xuICBjb25maXJtUGF5bWVudChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1QYXltZW50KG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUFjc3NEZWJpdFBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1BY3NzRGViaXRQYXltZW50RGF0YSxcbiAgICBvcHRpb25zPzogQ29uZmlybUFjc3NEZWJpdFBheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtQWNzc0RlYml0UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybVVzQmFua0FjY291bnRQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtVXNCYW5rQWNjb3VudFBheW1lbnREYXRhXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtVXNCYW5rQWNjb3VudFBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhKTtcbiAgfVxuXG4gIGNvbmZpcm1BbGlwYXlQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtQWxpcGF5UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1BbGlwYXlQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUFsaXBheVBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1BdUJlY3NEZWJpdFBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1BdUJlY3NEZWJpdFBheW1lbnREYXRhXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtQXVCZWNzRGViaXRQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjb25maXJtQmFuY29udGFjdFBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1CYW5jb250YWN0UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1CYW5jb250YWN0UGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1CYW5jb250YWN0UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUJsaWtQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtQmxpa1BheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtQmxpa1BheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtQmxpa1BheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1Cb2xldG9QYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtQm9sZXRvUGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1Cb2xldG9QYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUJvbGV0b1BheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1DYXJkUGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUNhcmRQYXltZW50RGF0YSxcbiAgICBvcHRpb25zPzogQ29uZmlybUNhcmRQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUNhcmRQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtQ2FzaGFwcFBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1DYXNoYXBwUGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1DYXNoYXBwUGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1DYXNoYXBwUGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUN1c3RvbWVyQmFsYW5jZVBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YTogQ29uZmlybUN1c3RvbWVyQmFsYW5jZVBheW1lbnREYXRhLFxuICAgIG9wdGlvbnM6IENvbmZpcm1DdXN0b21lckJhbGFuY2VQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUN1c3RvbWVyQmFsYW5jZVBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1FcHNQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtRXBzUGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1FcHNQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUVwc1BheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1GcHhQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtRnB4UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1GcHhQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUZweFBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1HaXJvcGF5UGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUdpcm9wYXlQYXltZW50RGF0YSxcbiAgICBvcHRpb25zPzogQ29uZmlybUdpcm9wYXlQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUdpcm9wYXlQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtR3JhYlBheVBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1HcmFiUGF5UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1HcmFiUGF5UGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1HcmFiUGF5UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUlkZWFsUGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUlkZWFsUGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1JZGVhbFBheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtSWRlYWxQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtS2xhcm5hUGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUtsYXJuYVBheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtS2xhcm5hUGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1LbGFybmFQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtS29uYmluaVBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1Lb25iaW5pUGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1Lb25iaW5pUGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1Lb25iaW5pUGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybU94eG9QYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtT3h4b1BheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtT3h4b1BheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtT3h4b1BheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1QMjRQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtUDI0UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1QMjRQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybVAyNFBheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1QYXlOb3dQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtUGF5Tm93UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1QYXlOb3dQYXltZW50T3B0aW9uc1xuICApOiBPYnNlcnZhYmxlPFBheW1lbnRJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybVBheU5vd1BheW1lbnQoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1QYXlQYWxQYXltZW50KGNsaWVudFNlY3JldDogc3RyaW5nLCBkYXRhPzogQ29uZmlybVBheVBhbFBheW1lbnREYXRhKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1QYXlQYWxQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjb25maXJtUGl4UGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybVBpeFBheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtUGl4UGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1QaXhQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtUHJvbXB0UGF5UGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybVByb21wdFBheVBheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtUHJvbXB0UGF5UGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1Qcm9tcHRQYXlQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtU2VwYURlYml0UGF5bWVudChjbGllbnRTZWNyZXQ6IHN0cmluZywgZGF0YT86IENvbmZpcm1TZXBhRGViaXRQYXltZW50RGF0YSk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtU2VwYURlYml0UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEpO1xuICB9XG5cbiAgY29uZmlybVNvZm9ydFBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1Tb2ZvcnRQYXltZW50RGF0YSxcbiAgICBvcHRpb25zPzogQ29uZmlybVNvZm9ydFBheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtU29mb3J0UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybVdlY2hhdFBheVBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1XZWNoYXRQYXlQYXltZW50RGF0YSxcbiAgICBvcHRpb25zPzogQ29uZmlybVdlY2hhdFBheVBheW1lbnRPcHRpb25zXG4gICk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtV2VjaGF0UGF5UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgaGFuZGxlQ2FyZEFjdGlvbihjbGllbnRTZWNyZXQ6IHN0cmluZyk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5oYW5kbGVDYXJkQWN0aW9uKGNsaWVudFNlY3JldCk7XG4gIH1cblxuICBoYW5kbGVOZXh0QWN0aW9uKG9wdGlvbnM6IHsgY2xpZW50U2VjcmV0OiBzdHJpbmcgfSk6IE9ic2VydmFibGU8UGF5bWVudEludGVudE9yU2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuaGFuZGxlTmV4dEFjdGlvbihvcHRpb25zKTtcbiAgfVxuXG4gIHZlcmlmeU1pY3JvZGVwb3NpdHNGb3JQYXltZW50KFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBWZXJpZnlNaWNyb2RlcG9zaXRzRm9yUGF5bWVudERhdGFcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLnZlcmlmeU1pY3JvZGVwb3NpdHNGb3JQYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjcmVhdGVSYWRhclNlc3Npb24oKTogT2JzZXJ2YWJsZTxSYWRhclNlc3Npb25QYXlsb2FkPiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNyZWF0ZVJhZGFyU2Vzc2lvbigpO1xuICB9XG5cbiAgY29sbGVjdEJhbmtBY2NvdW50Rm9yUGF5bWVudChvcHRpb25zOiBDb2xsZWN0QmFua0FjY291bnRGb3JQYXltZW50T3B0aW9ucyk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb2xsZWN0QmFua0FjY291bnRGb3JQYXltZW50KG9wdGlvbnMpO1xuICB9XG5cbiAgY3JlYXRlUGF5bWVudE1ldGhvZChwYXltZW50TWV0aG9kRGF0YTogQ3JlYXRlUGF5bWVudE1ldGhvZERhdGEpOiBPYnNlcnZhYmxlPFBheW1lbnRNZXRob2RSZXN1bHQ+O1xuICBjcmVhdGVQYXltZW50TWV0aG9kKG9wdGlvbnM6IENyZWF0ZVBheW1lbnRNZXRob2RGcm9tRWxlbWVudHMpOiBPYnNlcnZhYmxlPFBheW1lbnRNZXRob2RSZXN1bHQ+O1xuICBjcmVhdGVQYXltZW50TWV0aG9kKG9wdGlvbnM6IENyZWF0ZVBheW1lbnRNZXRob2RGcm9tRWxlbWVudCk6IE9ic2VydmFibGU8UGF5bWVudE1ldGhvZFJlc3VsdD47XG4gIGNyZWF0ZVBheW1lbnRNZXRob2Qob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jcmVhdGVQYXltZW50TWV0aG9kKG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0cmlldmVQYXltZW50SW50ZW50KGNsaWVudFNlY3JldDogc3RyaW5nKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLnJldHJpZXZlUGF5bWVudEludGVudChjbGllbnRTZWNyZXQpO1xuICB9XG5cbiAgY29uZmlybVNldHVwKG9wdGlvbnM6IHtcbiAgICBlbGVtZW50czogU3RyaXBlRWxlbWVudHM7XG4gICAgY29uZmlybVBhcmFtcz86IFBhcnRpYWw8Q29uZmlybVBheW1lbnREYXRhPjtcbiAgICByZWRpcmVjdDogJ2lmX3JlcXVpcmVkJztcbiAgfSk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+O1xuICBjb25maXJtU2V0dXAob3B0aW9uczoge1xuICAgIGVsZW1lbnRzPzogU3RyaXBlRWxlbWVudHM7XG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmc7XG4gICAgY29uZmlybVBhcmFtcz86IFBhcnRpYWw8Q29uZmlybVBheW1lbnREYXRhPjtcbiAgICByZWRpcmVjdDogJ2lmX3JlcXVpcmVkJztcbiAgfSk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+O1xuICBjb25maXJtU2V0dXAob3B0aW9uczoge1xuICAgIGVsZW1lbnRzOiBTdHJpcGVFbGVtZW50cztcbiAgICBjb25maXJtUGFyYW1zOiBDb25maXJtUGF5bWVudERhdGE7XG4gICAgcmVkaXJlY3Q/OiAnYWx3YXlzJztcbiAgfSk6IE9ic2VydmFibGU8bmV2ZXIgfCB7IGVycm9yOiBTdHJpcGVFcnJvciB9PjtcbiAgY29uZmlybVNldHVwKG9wdGlvbnM6IHtcbiAgICBlbGVtZW50cz86IFN0cmlwZUVsZW1lbnRzO1xuICAgIGNsaWVudFNlY3JldDogc3RyaW5nO1xuICAgIGNvbmZpcm1QYXJhbXM6IENvbmZpcm1QYXltZW50RGF0YTtcbiAgICByZWRpcmVjdD86ICdhbHdheXMnO1xuICB9KTogT2JzZXJ2YWJsZTxuZXZlciB8IHsgZXJyb3I6IFN0cmlwZUVycm9yIH0+O1xuICBjb25maXJtU2V0dXAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtU2V0dXAob3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtQWNzc0RlYml0U2V0dXAoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1BY3NzRGViaXRTZXR1cERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1BY3NzRGViaXRTZXR1cE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxTZXR1cEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtQWNzc0RlYml0U2V0dXAoY2xpZW50U2VjcmV0LCBkYXRhLCBvcHRpb25zKTtcbiAgfVxuXG4gIGNvbmZpcm1Vc0JhbmtBY2NvdW50U2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtVXNCYW5rQWNjb3VudFNldHVwRGF0YSk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybVVzQmFua0FjY291bnRTZXR1cChjbGllbnRTZWNyZXQsIGRhdGEpO1xuICB9XG5cbiAgY29uZmlybUF1QmVjc0RlYml0U2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtQXVCZWNzRGViaXRTZXR1cERhdGEpOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1BdUJlY3NEZWJpdFNldHVwKGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjb25maXJtQmFjc0RlYml0U2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtQmFjc0RlYml0U2V0dXBEYXRhKTogT2JzZXJ2YWJsZTxTZXR1cEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtQmFjc0RlYml0U2V0dXAoY2xpZW50U2VjcmV0LCBkYXRhKTtcbiAgfVxuXG4gIGNvbmZpcm1CYW5jb250YWN0U2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtQmFuY29udGFjdFNldHVwRGF0YSk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUJhbmNvbnRhY3RTZXR1cChjbGllbnRTZWNyZXQsIGRhdGEpO1xuICB9XG5cbiAgY29uZmlybUNhcmRTZXR1cChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUNhcmRTZXR1cERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1DYXJkU2V0dXBPcHRpb25zXG4gICk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUNhcmRTZXR1cChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUNhc2hhcHBTZXR1cChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUNhc2hhcHBTZXR1cERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1DYXNoYXBwU2V0dXBPcHRpb25zXG4gICk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybUNhc2hhcHBTZXR1cChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgY29uZmlybUlkZWFsU2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtSWRlYWxTZXR1cERhdGEpOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1JZGVhbFNldHVwKGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjb25maXJtUGF5UGFsU2V0dXAoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGRhdGE/OiBDb25maXJtUGF5UGFsU2V0dXBEYXRhKTogT2JzZXJ2YWJsZTxTZXR1cEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb25maXJtUGF5UGFsU2V0dXAoY2xpZW50U2VjcmV0LCBkYXRhKTtcbiAgfVxuXG4gIGNvbmZpcm1TZXBhRGViaXRTZXR1cChjbGllbnRTZWNyZXQ6IHN0cmluZywgZGF0YT86IENvbmZpcm1TZXBhRGViaXRTZXR1cERhdGEpOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1TZXBhRGViaXRTZXR1cChjbGllbnRTZWNyZXQsIGRhdGEpO1xuICB9XG5cbiAgY29uZmlybVNvZm9ydFNldHVwKFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBDb25maXJtU29mb3J0U2V0dXBEYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtU29mb3J0U2V0dXBPcHRpb25zXG4gICk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY29uZmlybVNvZm9ydFNldHVwKGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtQWZmaXJtUGF5bWVudChcbiAgICBjbGllbnRTZWNyZXQ6IHN0cmluZyxcbiAgICBkYXRhPzogQ29uZmlybUFmZmlybVBheW1lbnREYXRhLFxuICAgIG9wdGlvbnM/OiBDb25maXJtQWZmaXJtUGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1BZmZpcm1QYXltZW50KGNsaWVudFNlY3JldCwgZGF0YSwgb3B0aW9ucyk7XG4gIH1cblxuICBjb25maXJtQWZ0ZXJwYXlDbGVhcnBheVBheW1lbnQoXG4gICAgY2xpZW50U2VjcmV0OiBzdHJpbmcsXG4gICAgZGF0YT86IENvbmZpcm1BZnRlcnBheUNsZWFycGF5UGF5bWVudERhdGEsXG4gICAgb3B0aW9ucz86IENvbmZpcm1BZnRlcnBheUNsZWFycGF5UGF5bWVudE9wdGlvbnNcbiAgKTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1BZnRlcnBheUNsZWFycGF5UGF5bWVudChjbGllbnRTZWNyZXQsIGRhdGEsIG9wdGlvbnMpO1xuICB9XG5cbiAgdmVyaWZ5TWljcm9kZXBvc2l0c0ZvclNldHVwKFxuICAgIGNsaWVudFNlY3JldDogc3RyaW5nLFxuICAgIGRhdGE/OiBWZXJpZnlNaWNyb2RlcG9zaXRzRm9yU2V0dXBEYXRhXG4gICk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUudmVyaWZ5TWljcm9kZXBvc2l0c0ZvclNldHVwKGNsaWVudFNlY3JldCwgZGF0YSk7XG4gIH1cblxuICBjb2xsZWN0QmFua0FjY291bnRGb3JTZXR1cChvcHRpb25zOiBDb2xsZWN0QmFua0FjY291bnRGb3JTZXR1cE9wdGlvbnMpOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbGxlY3RCYW5rQWNjb3VudEZvclNldHVwKG9wdGlvbnMpO1xuICB9XG5cbiAgcmV0cmlldmVTZXR1cEludGVudChjbGllbnRTZWNyZXQ6IHN0cmluZyk6IE9ic2VydmFibGU8U2V0dXBJbnRlbnRSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUucmV0cmlldmVTZXR1cEludGVudChjbGllbnRTZWNyZXQpO1xuICB9XG5cbiAgcHJvY2Vzc09yZGVyKG9wdGlvbnM6IHtcbiAgICBlbGVtZW50czogU3RyaXBlRWxlbWVudHM7XG4gICAgY29uZmlybVBhcmFtcz86IFBhcnRpYWw8UHJvY2Vzc09yZGVyUGFyYW1zPjtcbiAgICByZWRpcmVjdDogJ2lmX3JlcXVpcmVkJztcbiAgfSk6IE9ic2VydmFibGU8UHJvY2Vzc09yZGVyUmVzdWx0PjtcbiAgcHJvY2Vzc09yZGVyKG9wdGlvbnM6IHtcbiAgICBlbGVtZW50czogU3RyaXBlRWxlbWVudHM7XG4gICAgY29uZmlybVBhcmFtczogUHJvY2Vzc09yZGVyUGFyYW1zO1xuICAgIHJlZGlyZWN0PzogJ2Fsd2F5cyc7XG4gIH0pOiBPYnNlcnZhYmxlPG5ldmVyIHwgeyBlcnJvcjogU3RyaXBlRXJyb3IgfT47XG4gIHByb2Nlc3NPcmRlcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLnByb2Nlc3NPcmRlcihvcHRpb25zKTtcbiAgfVxuXG4gIHJldHJpZXZlT3JkZXIoY2xpZW50U2VjcmV0OiBzdHJpbmcpOiBPYnNlcnZhYmxlPFJldHJpZXZlT3JkZXJSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUucmV0cmlldmVPcmRlcihjbGllbnRTZWNyZXQpO1xuICB9XG5cbiAgcGF5bWVudFJlcXVlc3Qob3B0aW9uczogUGF5bWVudFJlcXVlc3RPcHRpb25zKTogUGF5bWVudFJlcXVlc3Qge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5wYXltZW50UmVxdWVzdChvcHRpb25zKTtcbiAgfVxuXG4gIGNyZWF0ZVRva2VuKHRva2VuVHlwZTogU3RyaXBlSWJhbkVsZW1lbnQsIGRhdGE6IENyZWF0ZVRva2VuSWJhbkRhdGEpOiBPYnNlcnZhYmxlPFRva2VuUmVzdWx0PjtcbiAgY3JlYXRlVG9rZW4oXG4gICAgdG9rZW5UeXBlOiBTdHJpcGVDYXJkRWxlbWVudCB8IFN0cmlwZUNhcmROdW1iZXJFbGVtZW50LFxuICAgIGRhdGE/OiBDcmVhdGVUb2tlbkNhcmREYXRhXG4gICk6IE9ic2VydmFibGU8VG9rZW5SZXN1bHQ+O1xuICBjcmVhdGVUb2tlbih0b2tlblR5cGU6ICdwaWknLCBkYXRhOiBDcmVhdGVUb2tlblBpaURhdGEpOiBPYnNlcnZhYmxlPFRva2VuUmVzdWx0PjtcbiAgY3JlYXRlVG9rZW4odG9rZW5UeXBlOiAnYmFua19hY2NvdW50JywgZGF0YTogQ3JlYXRlVG9rZW5CYW5rQWNjb3VudERhdGEpOiBPYnNlcnZhYmxlPFRva2VuUmVzdWx0PjtcbiAgY3JlYXRlVG9rZW4odG9rZW5UeXBlOiAnY3ZjX3VwZGF0ZScsIGVsZW1lbnQ/OiBTdHJpcGVDYXJkQ3ZjRWxlbWVudCk6IE9ic2VydmFibGU8VG9rZW5SZXN1bHQ+O1xuICBjcmVhdGVUb2tlbih0b2tlblR5cGU6ICdhY2NvdW50JywgZGF0YTogVG9rZW5DcmVhdGVQYXJhbXMuQWNjb3VudCk6IE9ic2VydmFibGU8VG9rZW5SZXN1bHQ+O1xuICBjcmVhdGVUb2tlbih0b2tlblR5cGU6ICdwZXJzb24nLCBkYXRhOiBUb2tlbkNyZWF0ZVBhcmFtcy5QZXJzb24pOiBPYnNlcnZhYmxlPFRva2VuUmVzdWx0PjtcbiAgY3JlYXRlVG9rZW4odG9rZW5UeXBlLCBkYXRhKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNyZWF0ZVRva2VuKHRva2VuVHlwZSwgZGF0YSk7XG4gIH1cblxuICBjcmVhdGVTb3VyY2UoZWxlbWVudDogU3RyaXBlRWxlbWVudCwgc291cmNlRGF0YTogQ3JlYXRlU291cmNlRGF0YSk6IE9ic2VydmFibGU8U291cmNlUmVzdWx0PjtcbiAgY3JlYXRlU291cmNlKHNvdXJjZURhdGE6IENyZWF0ZVNvdXJjZURhdGEpOiBPYnNlcnZhYmxlPFNvdXJjZVJlc3VsdD47XG4gIGNyZWF0ZVNvdXJjZShhLCBiPyk6IE9ic2VydmFibGU8U291cmNlUmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNyZWF0ZVNvdXJjZShhLCBiKTtcbiAgfVxuXG4gIHJldHJpZXZlU291cmNlKHNvdXJjZTogUmV0cmlldmVTb3VyY2VQYXJhbSk6IE9ic2VydmFibGU8U291cmNlUmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLnJldHJpZXZlU291cmNlKHNvdXJjZSk7XG4gIH1cblxuICB2ZXJpZnlJZGVudGl0eShjbGllbnRTZWNyZXQ6IHN0cmluZyk6IE9ic2VydmFibGU8VmVyaWZpY2F0aW9uU2Vzc2lvblJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS52ZXJpZnlJZGVudGl0eShjbGllbnRTZWNyZXQpO1xuICB9XG5cbiAgY29sbGVjdEZpbmFuY2lhbENvbm5lY3Rpb25zQWNjb3VudHMoXG4gICAgb3B0aW9uczogQ29sbGVjdEZpbmFuY2lhbENvbm5lY3Rpb25zQWNjb3VudHNPcHRpb25zXG4gICk6IE9ic2VydmFibGU8RmluYW5jaWFsQ29ubmVjdGlvbnNTZXNzaW9uUmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbGxlY3RGaW5hbmNpYWxDb25uZWN0aW9uc0FjY291bnRzKG9wdGlvbnMpO1xuICB9XG5cbiAgY29sbGVjdEJhbmtBY2NvdW50VG9rZW4ob3B0aW9uczogQ29sbGVjdEJhbmtBY2NvdW50VG9rZW5PcHRpb25zKTogT2JzZXJ2YWJsZTxDb2xsZWN0QmFua0FjY291bnRUb2tlblJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5jb2xsZWN0QmFua0FjY291bnRUb2tlbihvcHRpb25zKTtcbiAgfVxuXG4gIGNyZWF0ZUVwaGVtZXJhbEtleU5vbmNlKG9wdGlvbnM6IEVwaGVtZXJhbEtleU5vbmNlT3B0aW9ucyk6IE9ic2VydmFibGU8RXBoZW1lcmFsS2V5Tm9uY2VSZXN1bHQ+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJpcGUuY3JlYXRlRXBoZW1lcmFsS2V5Tm9uY2Uob3B0aW9ucyk7XG4gIH1cblxuICBpbml0Q3VzdG9tQ2hlY2tvdXQob3B0aW9uczogU3RyaXBlQ3VzdG9tQ2hlY2tvdXRPcHRpb25zKTogT2JzZXJ2YWJsZTxTdHJpcGVDdXN0b21DaGVja291dD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5pbml0Q3VzdG9tQ2hlY2tvdXQob3B0aW9ucyk7XG4gIH1cblxuICBpbml0RW1iZWRkZWRDaGVja291dChvcHRpb25zOiBTdHJpcGVFbWJlZGRlZENoZWNrb3V0T3B0aW9ucyk6IE9ic2VydmFibGU8U3RyaXBlRW1iZWRkZWRDaGVja291dD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5pbml0RW1iZWRkZWRDaGVja291dChvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgaGFuZGxlQ2FyZFBheW1lbnQoY2xpZW50U2VjcmV0OiBzdHJpbmcsIGVsZW1lbnQ/LCBkYXRhPyk6IE9ic2VydmFibGU8UGF5bWVudEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5oYW5kbGVDYXJkUGF5bWVudChjbGllbnRTZWNyZXQsIGVsZW1lbnQsIGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBjb25maXJtUGF5bWVudEludGVudChjbGllbnRTZWNyZXQ6IHN0cmluZywgZWxlbWVudD8sIGRhdGE/KTogT2JzZXJ2YWJsZTxQYXltZW50SW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1QYXltZW50SW50ZW50KGNsaWVudFNlY3JldCwgZWxlbWVudCwgZGF0YSk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICovXG4gIGhhbmRsZUNhcmRTZXR1cChjbGllbnRTZWNyZXQ6IHN0cmluZywgZWxlbWVudD8sIGRhdGE/KTogT2JzZXJ2YWJsZTxTZXR1cEludGVudFJlc3VsdD4ge1xuICAgIHJldHVybiB0aGlzLnN0cmlwZS5oYW5kbGVDYXJkU2V0dXAoY2xpZW50U2VjcmV0LCBlbGVtZW50LCBkYXRhKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKi9cbiAgY29uZmlybVNldHVwSW50ZW50KGNsaWVudFNlY3JldDogc3RyaW5nLCBlbGVtZW50PywgZGF0YT8pOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmNvbmZpcm1TZXR1cEludGVudChjbGllbnRTZWNyZXQsIGVsZW1lbnQsIGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqL1xuICBoYW5kbGVGcHhQYXltZW50KGNsaWVudFNlY3JldDogc3RyaW5nLCBlbGVtZW50PywgZGF0YT8pOiBPYnNlcnZhYmxlPFNldHVwSW50ZW50UmVzdWx0PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyaXBlLmhhbmRsZUZweFBheW1lbnQoY2xpZW50U2VjcmV0LCBlbGVtZW50LCBkYXRhKTtcbiAgfVxufVxuIl19